/**
 * Theme functions file
 */
/* Triggers */
!function(n){
// Outdated Browser notification
var e,s;
// Menu trigger
n("#js-menu-trigger").on("click",function(e){e.preventDefault(),n("#js-menu").toggleClass("is-visible"),n("#js-menu-trigger i").toggleClass("icon-cancel"),n("#js-page-overlay").toggleClass("is-visible"),n("body").toggleClass("prevent-scroll"),n("body").toggleClass("menu-visible"),n("body").removeClass("search-visible"),n("#js-search-form").hasClass("is-visible")&&(n("#js-search-form").removeClass("is-visible"),n("#js-search-trigger i").removeClass("icon-cancel"),n("#js-page-overlay").addClass("is-visible"),n("body").addClass("prevent-scroll"))}),
// Search trigger
n("#js-search-trigger").on("click",function(e){e.preventDefault(),n("#js-search-trigger i").toggleClass("icon-cancel"),setTimeout(function(){n("#js-search-form input").focus()},100),n("#js-search-form").toggleClass("is-visible"),n("#js-page-overlay").toggleClass("is-visible"),n("body").toggleClass("prevent-scroll"),n("body").toggleClass("search-visible"),n("body").removeClass("menu-visible"),n("#js-menu").hasClass("is-visible")&&(n("#js-menu").removeClass("is-visible"),n("#js-menu-trigger i").removeClass("icon-cancel"),n("#js-page-overlay").addClass("is-visible"),n("body").addClass("prevent-scroll"))}),
// Accordion trigger
n("#js-accordion").find(".js-accordion-toggle").on("click",function(e){e.preventDefault(),
// Expand or collapse this panel
n(this).toggleClass("footer-menu__title--is-visible"),n(this).next().slideToggle("fast"),
// Hide the other panels
n(".js-accordion-toggle").not(n(this)).removeClass("footer-menu__title--is-visible"),n(".js-accordion-content").not(n(this).next()).slideUp("fast")}),n("#about-us__text-btn").on("click",function(e){e.preventDefault(),n(".about-us__text p").show(),n(this).hide()}),n("#js-clients-logos__btn-view-more").on("click",function(e){e.preventDefault(),n(".clients-logos__item").removeClass("clients-logos__item--hidden"),n(this).hide()}),e=function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"grid",languagePath:"./outdatedbrowser/lang/en.html"})},s=window.onload,"function"!=typeof window.onload?window.onload=e:window.onload=function(){s&&s(),e()},
// Homepage Help Us section
n(".hp-help__item").click(function(){var e=n(".hp-help__item"),s=n(".hp-help__item-content-container").not(i),t="hp-help__item--active",o="hp-help__item-content-container--active",i=n(this).next();i.hasClass(o)?(n(this).removeClass(t),e.css({opacity:""}),i.removeClass(o)):(e.removeClass(t),e.not(n(this)).css({opacity:".7",transition:"all .2s"}),n(this).addClass(t).css({opacity:"",transition:""}),s.removeClass(o),i.addClass(o)),n("html, body").animate({scrollTop:n(this).offset().top+-24},500)}),
// Homepage featured work Slick
n("#js-hp-featured-work-slider").slick({dots:!0,appendDots:n("#js-hp__featured-work-tabs-cont"),dotsClass:"hp__featured-work-tabs",adaptiveHeight:!0,arrows:!0,customPaging:function(e,s){return e.$slides[s].childNodes[0].childNodes[0].dataset.label},responsive:[{breakpoint:768,settings:{arrows:!1}}]}),
// Testimonials Slick
n("#js-testimonials").slick({dots:!0,dotsClass:"o-testimonial__pagination",adaptiveHeight:!0,arrows:!1,customPaging:function(e,s){var t=e.$slides[s].childNodes[0].childNodes[0].dataset.dotimg,o=e.$slides[s].childNodes[0].childNodes[0].dataset.dotname;return t||o?'<div><img loading="lazy" src="'+t+'" /></div><span>'+o+"</span>":"<div></div>"}});
// Homepage random banner images
var t=Math.floor(4*Math.random()+1);
// Vertical Timeline
function o(e){this.element=e,this.blocks=this.element.getElementsByClassName("js-cd-block"),this.images=this.element.getElementsByClassName("js-cd-img"),this.contents=this.element.getElementsByClassName("js-cd-content"),this.offset=.8,this.hideBlocks()}Modernizr.on("webp",function(e){
// `result == Modernizr.webp`
e?n("#js-hp__banner").css("background-image",'url("//'+window.location.hostname+"/wp-content/themes/inchoo4/images/inchoo-homepage-images/inchoo-"+t+'.webp")'):n("#js-hp__banner").css("background-image",'url("//'+window.location.hostname+"/wp-content/themes/inchoo4/images/inchoo-homepage-images/inchoo-"+t+'.jpg")')}),o.prototype.hideBlocks=function(){
//hide timeline blocks which are outside the viewport
if(!(!1 in document.documentElement))for(var e,s=this,t=0;t<this.blocks.length;t++)e=t,s.blocks[e].getBoundingClientRect().top>window.innerHeight*s.offset&&(s.images[e].classList.add("cd-is-hidden"),s.contents[e].classList.add("cd-is-hidden"))},o.prototype.showBlocks=function(){if(!(!1 in document.documentElement))for(var e,s=this,t=0;t<this.blocks.length;t++)e=t,s.contents[e].classList.contains("cd-is-hidden")&&s.blocks[e].getBoundingClientRect().top<=window.innerHeight*s.offset&&(
// add bounce-in animation
s.images[e].classList.add("cd-timeline__img--bounce-in"),s.contents[e].classList.add("cd-timeline__content--bounce-in"),s.images[e].classList.remove("cd-is-hidden"),s.contents[e].classList.remove("cd-is-hidden"))};var i,a=document.getElementsByClassName("js-cd-timeline"),l=[],c=!1;if(0<a.length){for(var r=0;r<a.length;r++)i=r,l.push(new o(a[i]));
//show timeline blocks on scrolling
window.addEventListener("scroll",function(e){c||(c=!0,window.requestAnimationFrame?window.requestAnimationFrame(d):setTimeout(d,250))})}function d(){l.forEach(function(e){e.showBlocks()}),c=!1}
// Cookie GDPR (Privacy Policy page)
// Get Cookie
function h(e){var s=document.cookie,t=s.indexOf(" "+e+"=");if(-1==t&&(t=s.indexOf(e+"=")),-1==t)s=null;else{t=s.indexOf("=",t)+1;var o=s.indexOf(";",t);-1==o&&(o=s.length),s=unescape(s.substring(t,o))}return s}
// Set Cookie
function m(e,s,t){var o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie=e+"="+s+";path=/;expires="+o.toGMTString()}
// Delete Cookie
// GDPR Cookie checkbox on Privacy Policy page
var g=n("#gdpr-checkbox"),u=n("#gdpr-checkbox-label");h("GDPRstate")?(g.prop("checked",!1),u.html("You are currently opted out. Check to opt in.")):(g.prop("checked",!0),u.html("You are currently opted in. Uncheck to opt out.")),
// Change Cookie on Click
g.on("click",function(){n(this).is(":checked")?(function(e){m(e,"",-1)}("GDPRstate"),u.html("You are currently opted in. Uncheck to opt out.")):(m("GDPRstate","1",365),u.html("You are currently opted out. Check to opt in."))});
// Cookie banner
var p=n("#js-cookie-banner"),f=n("#js-cookie-banner__btn");h("cookieBanner")?p.hide():(p.css("opacity","1"),f.on("click",function(){m("cookieBanner","1",365),p.css({opacity:"0",visibility:"hidden"})})),
// Scroll to Top
n("a[href^='#']").on("click",function(e){e.preventDefault();var s=n(this).attr("href").slice(1);n("html, body").animate({scrollTop:n("#"+s).offset().top},1e3)})}(jQuery);